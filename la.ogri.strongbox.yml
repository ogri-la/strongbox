app-id: la.ogri.strongbox
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk
sdk-extensions: 
    - org.freedesktop.Sdk.Extension.openjdk11
command: /app/bin/AppRun.sh
modules:
    - name: "openjdk"
      buildsystem: "simple"
      build-commands:
        - "/usr/lib/sdk/openjdk11/install.sh"

    - name: strongbox
      buildsystem: simple
      build-commands:
        - install -D AppRun.sh /app/bin/AppRun.sh
        - cp app.jar /app/bin/
      sources:
        - type: file
          path: app.jar
        - type: file
          path: AppRun.sh
finish-args:
    - "--socket=x11"
    - "--share=network"
    # GPU acceleration for JavaFX
    - "--device=dri"
    # fixes GTK warning when 'canberra-gtk-module' in host's ENV
    - "--env=GTK_MODULES="
    - "--filesystem=host"
